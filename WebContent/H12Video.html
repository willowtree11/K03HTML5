<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>H12Video.html</title>

</head>
<body>
	<!-- 
	<h2>기본 Video 태그</h2>
	controls 속성: 동영상을 플레이 할 때  컨트롤 바를 보이게 할 지 여부를 지정하는 속성
	볼륨, progress바, 전체화면 등의 버튼이 있다.
	-->
	<!-- 
	<video src="media/video.mp4" autoplay controls width="300" height="200">
	해당 브라우저가 video 태그를 지원하지 않는 경우 <a href="media/video.mp4">여기</a>를 클릭하세요.
	</video> 
	-->
	
	
	<!-- 
		source 하위태그: 웹브라우저가 모든 동영상 포맷을 지원하지 못하기 때문에
		여러 항목 중 해당 브라우저가 지원하는 포맷의 파일을 찾아 플레이 할 수 있도록 한다.
		즉, 미디어 파일을 여러개 설정할 때 사용하는 태그
	 -->
	<h2>Video의 하위 태그 source</h2>
	<!--<video autoplay controls width ="300" height="200">
		<source src="media/video.3gp"></source>
		<source src="media/video.mp4"></source>
		
		해당 브라우저가 video 태그를 지원하지 않는 경우
		<a href="media/video.mp4">여기</a>를 클릭하세요.
	</video>-->
	
	<h2>Javascript를 이용한 커스텀 비디오 만들기</h2>
	<script>
		//video의 DOM을 저장할 전역변수
		var video;
		
		//HTML문서의 로드가 끝난 이후 실행될 무기명 함수
		window.onload=function(){

			var currentSpan=document.getElementById("currenttime");
			var totalSpan=document.getElementById("totaltime");
			video=document.getElementById("video");
			/*
				video에 timeupdate 이벤트를 등록해준다. 
				총 재생시간과 실시간 재생시간을 얻어올 수 있다.
				재생이 될 때 지속적으로 이벤트가 발생된다.
			*/
			video.addEventListener("timeupdate", function(){
				//현재 재생시간 출력
				currentSpan.innerHTML=video.currentTime;
				//전체 재생시간 출력
				totalSpan.innerHTML=video.duration;
			});
		}
		function play(){
			//비디오 화면 보임처리
			video.hidden="";
			//재생시작
			video.play();
		}
		function stop(){
			//화면 숨김처리
			video.hidden=true;
			//일시정지
			video.pause();
		}
		function start(){
			video.hidden=""; //내가추가함

			//처음부터 다시 재생하기 위해 0으로
			video.currentTime=0;
			video.play();
		}
	</script>

	<!-- video태그를 통해 영상을 출력한다. hidden속성에 의해 첫 로딩시에는 화면이 보이지 않는다.-->
	<div>
		<video id="video" width="300" height="200" src="./media/video.mp4" hidden></video>
	</div>	
	<div>
		<input type="button" value="재생하기" onclick="play();">
		<input type="button" value="일시정지" onclick="stop();">
		<input type="button" value="처음부터 재생하기" onclick="start();">
		<br>
		<!-- 현재 재생시간 및 전체 재생시간 출력되는 부분 -->
		<span id="currenttime"></span> / <span id=totaltime></span>
	</div>


	
</body>
</html>